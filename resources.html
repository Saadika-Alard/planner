<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lesson Library</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <nav>
    <a href="index.html">ğŸ“… Planner</a>
    <a href="pdf-manager.html">ğŸ“˜ Lesson Splitter</a>
    <a href="resources.html" class="active">ğŸ“š Library</a>
  </nav>

  <main style="padding: 2rem;">
    <h1>ğŸ“š My Lesson Library</h1>
    <div id="resourceList"></div>
  </main>

  <script src="js/utils.js"></script>
  <script>
    const resources = JSON.parse(localStorage.getItem("resources")) || [];
    const container = document.getElementById("resourceList");

    if (resources.length === 0) {
      container.innerHTML = "<p>No lesson packs uploaded yet.</p>";
    } else {
      resources.forEach(res => {
        const teachingLink = res.teachingPack
          ? `<a href="pdf-viewer.html?res=${res.id}&type=teaching" target="_blank">ğŸ“˜ Teaching Pack</a>`
          : "";

        const exerciseLink = res.exercisePack
          ? `<a href="pdf-viewer.html?res=${res.id}&type=exercise" target="_blank">âœï¸ Exercise Pack</a>`
          : "";

        container.innerHTML += `
          <div class="resource">
            <h4>${res.title}</h4>
            <div class="resource-links">
              ${teachingLink}
              ${exerciseLink}
            </div>
            <p><small>Uploaded: ${new Date(res.uploaded).toLocaleDateString()}</small></p>
          </div>
        `;
      });
    }
  </script>
</body>
</html>
